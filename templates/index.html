{% extends "base.html" %}

{% block login %}
{% if username == "" %}
<div>
  <a href="{{ url_for('login') }}">Login</a>
</div>
<div>
  <a href="{{ url_for('register') }}">Register</a>
</div>
{% endif %}
{% if username != "" %}
<div class="greet">
  Hi, {{ username }}
</div>
<div class="log-out">
  <a href="{{  url_for('log_out')  }}">Logout</a>
</div>
{% endif %}
{% endblock %}

{% block content %}
<div class="content_">
  <div>
    <label>Newest</label>
  </div>
  <br>
  <form action = "{{  url_for('search_question')  }}">
    <input type = "text" name = "search_bar" placeholder = "Search Here" value = "{{  search_bar_default_value  }}">
  </form>
  {{  search_count_message  }}
  <br>
  <br>
  <div class="questions">
    {% for question_data in question_list %}
      {% set question_id = question_data["question_id"] %}

      <a id=question-{{loop.index}} href = "/question?qid={{question_id}}">
        {% set question_title   = question_data["question_data"]["question"] %}
        {% set question_asker   = question_data["question_data"]["asker"]    %}
        {% set question_likes   = question_data["question_data"]["likes"]    %}
        {% set question_replies = question_data["question_data"]["replies"]  %}
        {% set question_time    = question_data["question_data"]["time"]     %}

        <div id = question-{{loop.index}}-left>
          <div id = question-{{loop.index}}-left-left">
            <label>{{  question_replies  }}</label>
          </div>
          <div id = question-{{loop.index}}-left-right>
            <div id = question-{{loop.index}}-left-right-left>
              <label>{{  question_title  }}</label>
            </div>
            <div id = question-{{loop.index}}-left-right-right>
              <label>{{  question_asker  }} - {{  question_time  }}</label>
            </div>
          </div>
        </div>
        <div id = question-{{loop.index}}-right>
          <div id = question-{{loop.index}}-right-top">
            ❤️
          </div>
          <div id = question-{{loop.index}}-right-bot>
            {{  question_likes  }}
          </div>
        </div>
      </a>
      <br>
    {% endfor %}
  </div>
</div>

{% endblock %}
